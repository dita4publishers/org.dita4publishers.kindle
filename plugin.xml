<plugin id="org.dita4publishers.kindle">
  <extension-point id="xsl.transtype-kindle"/>
  
  <extension-point id="d4p.kindle.xslt.param" name="Kindle XSLT parameters"/>
  <extension-point id="dita.conductor.xhtml.param" name="XHTML XSLT parameters"/>

  <feature extension="package.support.name" value="Eliot Kimber"/>
  <feature extension="package.support.email" value="ekimber@contrext.com"/>

  <require plugin="org.dita4publishers.common.mapdriven"/> 
  <require plugin="org.dita-community.common.xslt"/> 
  <require plugin="org.dita-community.preprocess-extensions"/>
  <require plugin="org.dita4publishers.epub"/> 
  
  <template file="build_transtype-kindle_template.xml"/>
  
  <template file="xsl/map2kindle_template.xsl"/>

  <feature extension="dita.conductor.transtype.check" value="kindle" type="txt"/>
  <feature extension="dita.conductor.target.relative" value="build.xml" type="file"/>

  <!-- New way of specifying metadata with parameters contributed by the transtype:
        https://github.com/dita-ot/dita-ot/issues/1757
   -->
  <transtype name="kindle" extends="epub" desc="Kindle (DITA 4 Publishers)">
    <param name="kindlegen.executable"
      desc="File path to the kindlegen executable.
      e.g. &quot;/Users/ekimber/apps/KindleGen_Mac_i386_v1.1/kindlegen&quot;."
      type="file"/>
  </transtype>
</plugin>